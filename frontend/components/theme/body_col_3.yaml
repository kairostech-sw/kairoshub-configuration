type: grid
columns: 2
square: false
cards:
  # - type: 'custom:button-card'
  #   name: VALORI
  #   template: label_center
  #   styles:
  #     name:
  #       - font-size: 15px
  #       - font-weight: bold
  # - type: horizontal-stack
  #   cards:
  - type: 'custom:button-card'
    template: graph
    # aspect_ratio: 2/1
    custom_fields:
      graph:
        card:
          type: sensor
          entity: sensor.temperatura
          graph: line
          icon: 'mdi:thermometer'
          detail: 1
          style: |
            {% if (states(config.entity)> states("input_number.temperature_period1") and is_state("input_boolean.heater_program1_on","on")) or
            (states(config.entity)> states("input_number.temperature_period2") and is_state("input_boolean.heater_program2_on","on")) or
            (states(config.entity)> states("input_number.temperature_period3") and is_state("input_boolean.heater_program3_on","on")) or
            (states(config.entity)> states("input_number.temperature_period4") and is_state("input_boolean.heater_program4_on","on")) or
            states(config.entity) > states("input_number.manual_heating_temp")
            %}
            ha-card {
              --accent-color: var(--primary-graph-line-color);
            }
            .header .icon {
              color: var(--primary-graph-line-color);
            }
            {% else %}
            ha-card {
              --accent-color: var(--secondary-graph-line-color);
            }
            .header .icon {
              color: var(--secondary-graph-line-color);
            }
            {% endif %}
  # - type: sensor
  #   entity: sensor.temperatura
  #   graph: line
  #   detail: 1
  #   icon: mdi:thermometer
  #   name: Temperatura
    style: |
      ha-card {
        height: 130px !important;
      }
    tap_action:
      action: none
  - type: 'custom:button-card'
    template: graph
    # aspect_ratio: 2/1
    custom_fields:
      graph:
        card:
          type: sensor
          entity: sensor.em_assorbimento
          graph: line
          icon: 'mdi:lightning-bolt'
          detail: 1
          style: |
            ha-card {
              --accent-color: #FFD700;
            }
            .header .icon {
              color: #FFD700;
            }
    style: |
      ha-card {
        height: 130px !important;
      }
    tap_action:
      action: none
  - type: conditional
    conditions:
      - entity: sensor.umidita
        state_not: unknown
    card:
      type: 'custom:button-card'
      template: graph
      # aspect_ratio: 2/1
      custom_fields:
        graph:
          card:
            type: sensor
            entity: sensor.umidita
            graph: line
            icon: 'mdi:water-percent'
            detail: 1
            style: |
              ha-card {
                --accent-color:  #7FB03F;
              }
              .header .icon {
                color:  #7FB03F;
              }
      style: |
        ha-card {
          height: 130px !important;
        }
      tap_action:
        action: none
       # - type: sensor
      #   entity: sensor.em_assorbimento
      #   graph: line
      #   detail: 1
      #   icon: mdi:lightning-bolt
      #   name: Consumo
  # - type: horizontal-stack
  #   cards:
  # - type: 'custom:button-card'
  #   entity: input_boolean.at_home
  #   template: button_hold
  #   icon: 'mdi:home'
  #   color: auto
  #   show_icon: true
  #   show_name: true
  #   tap_action:
  #     action: none
  #   hold_action:
  #     action: call-service
  #     service: input_boolean.toggle
  #     service_data:
  #       entity_id: input_boolean.at_home
  #   state:
  #     - value: 'on'
  #       name: 'In Casa'
  #     - value: 'off'
  #       name: 'Fuori Casa'

  # - type: custom:button-card
  #   entity: 'switch.sw_thermostat'
  #   template: button_hold
  #   show_icon: true
  #   show_name: true
  #   color: auto
  #   name: Riscaldamento
  #   tap_action:
  #     action: none
  #   hold_action:
  #     action: call-service
  #     service: automation.trigger
  #     service_data:
  #       entity_id: automation.riscaldamento_manuale
  #   state:
  #     - value: 'on'
  #       icon: mdi:radiator
  #       name: 'Acceso'
  #     - value: 'off'
  #       icon: mdi:radiator-off
  #       name: 'Spento'
  #   style:
  #     name:
  #       - font-weight: 500