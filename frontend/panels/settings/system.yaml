type: custom:button-card
template: basic_page_layout
styles:
  grid:
    - row-gap: 3px
  custom_fields:
    content:
      - justify-self: center
      - margin-top: 5px
      - overflow: auto
card_mod:
  style: |
    #content::-webkit-scrollbar {
      display: none !important;
    }
custom_fields:
  header:
    card:
      type: "custom:button-card"
      template: header_page_text
      icon: "mdi:cog"
      name: "Impostazioni"
      label: "Impostazioni / Sistema"
  commandbar:
    card:
      type: "custom:button-card"
      template: command_bar
      style: |
        ha-card.button-card-main {
          padding: 0px !important
        }
        div#container {
          justify-items: right;
        }
      custom_fields:
        commands:
          card:
            type: horizontal-stack
            cards:
              - type: "custom:button-card"
                template: button_go_back
  content:
    card:
      type: vertical-stack
      cards:
        - type: "custom:button-card"
          color_type: label-card
          name: "Automazione Scenario Giorno / Notte"
          styles:
            card:
              - height: 35px
              - padding: 0px
        - type: "custom:button-card"
          template: scenes_program
          custom_fields:
            label:
              card:
                type: "custom:button-card"
                name: "Scenario Giorno"
                layout: icon_name
                icon: "mdi:theme-light-dark"
                size: 55%
                styles:
                  icon:
                    - color: "#55C1E5"
            select:
              card:
                type: vertical-stack
                cards:
                  - type: "custom:button-card"
                    icon: "mdi:chevron-up"
                    tap_action:
                      action: call-service
                      service: input_select.select_next
                      service_data:
                        entity_id: input_select.scene_day
                    <<: &chevron-style
                      size: 13%
                      styles:
                        card:
                          - padding: 0px
                  - type: "custom:button-card"
                    entity: input_select.scene_day
                    tap_action:
                      action: none
                    show_state: true
                    size: 15%
                    state:
                      - value: "Disattivo"
                        color: "#F32000"
                        icon: mdi:close-circle-outline
                      - value: "Programmato"
                        color: "#009213"
                        icon: mdi:alarm
                      - value: "Automatico"
                        color: "#FFB600"
                        icon: mdi:weather-sunny
                  - type: "custom:button-card"
                    icon: "mdi:chevron-down"
                    tap_action:
                      action: call-service
                      service: input_select.select_previous
                      service_data:
                        entity_id: input_select.scene_day
                    <<: *chevron-style
            time:
              card:
                type: horizontal-stack
                cards:
                  - type: "custom:time-picker-card"
                    entity: input_datetime.scene_day_on
                    <<: &time-picker-conf
                      minute_step: 15
                      layout:
                        embedded: true
                        align_controls: right
                      card_mod:
                        style:
                          .: |
                            :host {
                            {% if not is_state('input_select.scene_day', 'Programmato') %}
                              pointer-events: none;
                            {% endif %}
                            }
                            state-badge {
                              display: none;
                            }
                            .time-picker-row.embedded {
                              flex-direction: column;
                            }
                          time-unit:
                            $: |
                              .time-input {
                                {% if not is_state('input_select.scene_day', 'Programmato') %}
                                  pointer-events: none;
                                  background-color: var(--disabled-text-color) !important;
                                {% endif %}
                              }
                  - type: "custom:time-picker-card"
                    entity: input_datetime.scene_day_off
                    <<: *time-picker-conf
