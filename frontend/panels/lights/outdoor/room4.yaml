type: "custom:button-card"
template: zones_grid
custom_fields:
  header:
    card:
      type: "custom:button-card"
      template:
        - header_page_text
      icon: "mdi:lightbulb"
      name: "LUCI"
      label: >
        [[[
          return "Luci / "+states["input_text.zn300"].state +
            " / "+states["input_text.zn304"].state;
        ]]]
  commandbar:
    card:
      type: "custom:button-card"
      template: command_bar
      style: |
        ha-card.button-card-main {
          padding: 0px !important
        }
        div#container {
          justify-items: right;
        }
      styles:
        card:
          - margin-left: -10px
      custom_fields:
        commands:
          card:
            type: horizontal-stack
            cards:
              - type: "custom:button-card"
                name: "Copia"
                hold_action:
                  confirmation:
                    text: "Vuoi copiare questa impostazione per tutte le luci di questa zona?"
                  action: call-service
                  service: input_boolean.turn_on
                  service_data:
                    entity_id: input_boolean.copy_lights_nightzone
                styles:
                  card:
                    - background: none
                    - color: "#f4f4f4"
                    - box-shadow: none
                    - width: 200px
                    - left: -474px
                style: |
                  :host {
                    align-self: center;
                  }
              - type: "custom:button-card"
                template: button_go_back
  zones:
    card:
      type: horizontal-stack
      cards:
        - type: conditional
          conditions:
            - entity: input_select.light_type
              state: white
          card:
            type: custom:light-entity-card
            entity: light.lwz304
            header: >
              [[[
                return "Luci "+ states["input_text.zn304"].state;
              ]]]
            persist_features: true
            show_slider_percent: true
        - type: conditional
          conditions:
            - entity: input_select.light_type
              state: color
          card:
            type: custom:light-entity-card
            entity: light.lcz304
            header: >
              [[[
                return "Luci "+ states["input_text.zn304"].state;
              ]]]
            persist_features: true
            show_slider_percent: true
            style: |
              ha-color-picker {
                max-width: 230px !important;
                margin-top: 5px;
              }
        - type: conditional
          conditions:
            - entity: input_select.light_type
              state: onoff
          card:
            type: custom:light-entity-card
            entity: light.lz304
            header: >
              [[[
                return "Luci "+ states["input_text.zn304"].state;
              ]]]
            persist_features: true
            show_slider_percent: true
