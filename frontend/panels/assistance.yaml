type: vertical-stack
cards:
  - type: 'custom:button-card'
    template: row_space_10
  - type: horizontal-stack
    cards:
      - type: 'custom:button-card'
        layout: vertical
        template: 
          - header_page_text
        name: 'ASSISTENZA'
        label: 'Assistenza /'
        icon: mdi:lifebuoy
      - type: 'custom:button-card'
        template: row_space_10
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            template: row_space_10
  - type: horizontal-stack
    cards:
      - type: 'custom:button-card'
        template: row_space_10
  - type: horizontal-stack
    cards:
      - type: vertical-stack
        cards:
          - type: 'custom:button-card'
            icon: 'mdi:information-outline'
            name: Dati Impianto
            entity: 'sensor.system_state' 
            styles:
              card: 
                - color: var(--primary-text-color)
                #- font-size: 10px
                - text-transform: capitalize  
                - padding: 12px 16px 16px
         
              grid:
                - grid-template-areas: '"i header" "content content"'
                - grid-template-columns: 30px 1fr
                - grid-template-rows: min-content 1fr
              name:
                - place-self: start
                - grid-area: header
                - line-height: 48px
                - font-size: 20px
                - font-weight: 500
                - color: var(--ha-card-header-color)
                - padding-left: 5px
              img_cell:
                - justify-content: start
                - align-items: start
                - margin: none
                - grid-area: i
              icon:
                - color: var(--ha-card-header-color)
                - width: 80%
              content: 
                - font-weight: bold
            variables: 
              systemCode: input_text.system_code
              systemOwner: input_text.system_name
              systemState: sensor.system_state
              kairoshubSwVersion: sensor.kairoshub_sw_version
            custom_fields:
                content: >
                  [[[
                    return `
                      <div class="assistance_content" style="text-align: left; font-size: 12px">

                        <div style="padding-bottom: 5px; padding-top: 5px">
                          <ha-icon icon="mdi:identifier" style="width: 24px; padding:5px; color: var(--ha-card-header-color);"></ha-icon>
                          <label style="font-weight: bold; ">Identificativo impianto:</label>
                          <span > ${states[ variables.systemCode ].state} </span>
                        </div>

                        <div >
                          <ha-icon icon="mdi:account" style="width: 24px; padding:5px; color: var(--ha-card-header-color);"></ha-icon>
                          <label style="font-weight: bold ">Intestatario impianto:</label>
                          <span > ${states[ variables.systemOwner ].state} </span>
                        </div>
                        <br />
                        
                        <div >
                          <ha-icon icon="mdi:home-assistant" style="width: 24px; padding:5px; color: var(--ha-card-header-color);"></ha-icon>
                          <label style="font-weight: bold ">Stato impianto:</label>
                          <span > ${states[ variables.systemState ].state} </span>
                        </div>

                        <div>
                          <ha-icon icon="mdi:cellphone-arrow-down" style="width: 24px; padding:5px; color: var(--ha-card-header-color);"></ha-icon>
                          <label style="font-weight: bold ">Versione software:</label>
                          <span > ${states[ variables.kairoshubSwVersion ].state} </span>
                        </div>

                      </div>
                    `
                  ]]]
            tap_action:
              action: no_action
      - type: vertical-stack
        cards:
          - type: entities
            icon: 'mdi:lifebuoy'
            entities:
              - input_boolean.assistance_request
            title: Assistenza Tecnica
          - type: markdown
            content: >-
              Impianto installato dalla ***Kairos Tech - Sistemi tecnologici connessi***
              
              Per informazioni e assistenza inviare una mail a info@kairos-tech.it
            title: Dati installatore     
     
                                
               







    
  # - type: horizontal-stack
  #   cards:
  #     - type: 'custom:button-card'
  #       template: row_space_10

  #     - type: vertical-stack
  #       cards:
  #         - type: 'custom:button-card'
  #           color_type: label-card
  #           color: rgb(44, 109, 214)
  #           name: Programmi Clima
  #           tap_action:
  #             action: none
  #         - type: horizontal-stack
  #           cards:
  #             - type: 'custom:button-card'
  #               entity: input_boolean.heater_program1
  #               color_type: card
  #               color: rgb(66, 134, 244)
  #               icon: mdi:numeric-1-box-outline
  #               show_state: true
  #               styles:
  #                 card: 
  #                   - height: 55px
  #                 state: 
  #                   - font-size: 12px
  #               show_name: false
  #             - type: 'custom:button-card'
  #               entity: input_boolean.heater_program2
  #               color_type: card
  #               color: rgb(66, 134, 244)
  #               icon: mdi:numeric-2-box-outline
  #               show_name: false
  #               show_state: true
  #               styles:
  #                 card: 
  #                   - height: 55px
  #                 state: 
  #                   - font-size: 12px
  #             - type: 'custom:button-card'
  #               entity: input_boolean.heater_program3
  #               color_type: card
  #               color: rgb(66, 134, 244)
  #               icon: mdi:numeric-3-box-outline
  #               show_name: false
  #               show_state: true
  #               styles:
  #                 card: 
  #                   - height: 55px
  #                 state: 
  #                   - font-size: 12px
  #             - type: 'custom:button-card'
  #               entity: input_boolean.heater_program4
  #               color_type: card
  #               color: rgb(66, 134, 244)
  #               icon: mdi:numeric-4-box-outline
  #               show_name: false
  #               show_state: true
  #               styles:
  #                 card: 
  #                   - height: 55px
  #                 state: 
  #                   - font-size: 12px

  #     - type: 'custom:button-card'
  #       template: row_space_10
  
  # - type: horizontal-stack
  #   cards:
  #     - type: 'custom:button-card'
  #       template: row_space_10
          