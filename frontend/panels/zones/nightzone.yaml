type: "custom:button-card"
template: clima_zone_grid
custom_fields:
  header:
    card:
      type: "custom:button-card"
      template:
        - header_page_text
      icon: "mdi:thermometer"
      name: "CLIMA"
      label: '[[[return "Clima / "+states["input_text.zn100"].state]]]'
  commandbar:
    card:
      type: "custom:button-card"
      template: command_bar
      style: |
        ha-card.button-card-main {
          padding: 0px !important
        }
        div#container {
          justify-items: right;
        }
      styles:
        card:
          - margin-left: -10px
      custom_fields:
        commands:
          card:
            type: horizontal-stack
            cards:
              - type: "custom:button-card"
                template: button_go_back
  zones:
    card:
      type: vertical-stack
      cards:
        - type: conditional
          conditions:
            - entity: sensor.tz101
              state: unknown
            - entity: sensor.tz102
              state: unknown
            - entity: sensor.tz103
              state: unknown
            - entity: sensor.tz104
              state: unknown
          card:
            type: "custom:button-card"
            template: no_background
            name: >
              [[[
                return `
                <ha-alert alert-type="warning" style="justify-self: center;">
                  Non ci sono zone attive </br>
                </ha-alert>`;
              ]]]
            tap_action:
              action: none
        - type: grid
          columns: 2
          square: false
          cards:
            - type: conditional
              conditions:
                - entity: sensor.tz101
                  state_not: "unknown"
              card:
                type: "custom:button-card"
                template: "clima_tv_detail"
                styles:
                  card:
                    - box-shadow: none
                variables:
                  zoneId: 101
            - type: conditional
              conditions:
                - entity: sensor.tz102
                  state_not: "unknown"
              card:
                type: "custom:button-card"
                template: "clima_tv_detail"
                styles:
                  card:
                    - box-shadow: none
                variables:
                  zoneId: 102
            - type: conditional
              conditions:
                - entity: sensor.tz103
                  state_not: "unknown"
              card:
                type: "custom:button-card"
                template: "clima_tv_detail"
                styles:
                  card:
                    - box-shadow: none
                variables:
                  zoneId: 103
            - type: conditional
              conditions:
                - entity: sensor.tz104
                  state_not: "unknown"
              card:
                type: "custom:button-card"
                template: "clima_tv_detail"
                styles:
                  card:
                    - box-shadow: none
                variables:
                  zoneId: 104
